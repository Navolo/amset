
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>amset package &#8212; Amset 0.1.0 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
 
<link href='https://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Amset 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="amset-package">
<h1>amset package<a class="headerlink" href="#amset-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="amset.utils.html">amset.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="amset.utils.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="amset.utils.html#module-amset.utils.analytical_band_from_bzt1">amset.utils.analytical_band_from_bzt1 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="amset.utils.html#module-amset.utils.band_interpolation">amset.utils.band_interpolation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="amset.utils.html#module-amset.utils.band_parabolic">amset.utils.band_parabolic module</a></li>
<li class="toctree-l2"><a class="reference internal" href="amset.utils.html#module-amset.utils.band_structure">amset.utils.band_structure module</a></li>
<li class="toctree-l2"><a class="reference internal" href="amset.utils.html#module-amset.utils.constants">amset.utils.constants module</a></li>
<li class="toctree-l2"><a class="reference internal" href="amset.utils.html#module-amset.utils.detect_peaks">amset.utils.detect_peaks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="amset.utils.html#module-amset.utils.general">amset.utils.general module</a></li>
<li class="toctree-l2"><a class="reference internal" href="amset.utils.html#module-amset.utils.k_integration">amset.utils.k_integration module</a></li>
<li class="toctree-l2"><a class="reference internal" href="amset.utils.html#module-amset.utils.pymatgen_loader_for_bzt2">amset.utils.pymatgen_loader_for_bzt2 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="amset.utils.html#module-amset.utils.transport">amset.utils.transport module</a></li>
<li class="toctree-l2"><a class="reference internal" href="amset.utils.html#module-amset.utils">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-amset.core">
<span id="amset-core-module"></span><h2>amset.core module<a class="headerlink" href="#module-amset.core" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="amset.core.Amset">
<em class="property">class </em><code class="descclassname">amset.core.</code><code class="descname">Amset</code><span class="sig-paren">(</span><em>calc_dir</em>, <em>material_params</em>, <em>vasprun_file=None</em>, <em>model_params=None</em>, <em>performance_params=None</em>, <em>dopings=None</em>, <em>temperatures=None</em>, <em>integration='e'</em>, <em>loglevel=None</em>, <em>timeout=48</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Runs Amset on a pymatgen from a VASP run (i.e. vasprun.xml). Amset is an ab initio model
for calculating the mobility and Seebeck coefficient using Bolƒtzmann transport equation (BTE). The band structure
in the Brilluin zone (BZ) is extracted from vasprun.xml to calculate the group velocity and transport properties
in presence of various scattering mechanisms.</p>
<p>Currently the following scattering mechanisms with their corresponding three-letter abbreviations implemented are:
ionized impurity scattering (IMP), acoustic phonon deformation potential (ACD), piezoelectric (PIE), and charged
dislocation scattering (DIS). Also, longitudinal polar optical phonon (POP) in implemented as an inelastic
scattering mechanism that can alter the electronic distribution (the reason BTE has to be solved explicitly; for
more information, see references [R, A]).</p>
<p>You can control the level of theory via various inputs. For example, by assuming that the band structure is
isotropic at the surrounding point of each k-point (i.e. bs_is_isotropic == True), one can significantly reduce
the computational effort otherwise needed for accurate numerical integration of the scatterings.</p>
<p>A small comment on the structure of this code: the calculations are done and stored in two main dictionary type
variable called kgrid and egrid. kgrid contains all calculations that are done in k-space meaning that for each
k-point and each band that is included there is a number/vector/property stored. On the other hand, the egrid
is everything in energy scale hence we have number/vector/property stored at each energy point.</p>
<p class="rubric">References</p>
<dl class="docutils">
<dt>[R]: D. L. Rode, Low-Field Electron Transport, Elsevier, 1975, vol. 10.,</dt>
<dd>DOI: 10.1016/S0080-8784(08)60331-2</dd>
<dt>[A]: A. Faghaninia, C. S. Lo and J. W. Ager, Phys. Rev. B, “Ab initio</dt>
<dd>electronic transport model with explicit solution to the linearized
Boltzmann transport equation” 2015, 91(23), 5100.,
DOI: 10.1103/PhysRevB.91.235123</dd>
<dt>[Q]: B. K. Ridley, Quantum Processes in Semiconductors, oxford</dt>
<dd>university press, Oxford, 5th edn., 2013.
DOI: 10.1093/acprof:oso/9780199677214.001.0001</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>calc_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>where Amset will be running (e.g. path to the vasprun.xml)
material_params (dict, required): material parameters; current options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;epsilon_s&quot;</span> <span class="p">(</span><span class="nb">float</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">required</span><span class="p">):</span> <span class="n">static</span> <span class="n">dielectric</span> <span class="n">constant</span>
<span class="s2">&quot;epsilon_inf&quot;</span> <span class="p">(</span><span class="nb">float</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">):</span> <span class="n">high</span><span class="o">-</span><span class="n">frequency</span> <span class="n">dielectric</span> <span class="n">constant</span>
<span class="s2">&quot;C_el&quot;</span> <span class="p">(</span><span class="nb">float</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">):</span> <span class="n">average</span> <span class="n">elastic</span> <span class="n">constant</span> <span class="ow">in</span> <span class="n">GPa</span> <span class="n">only</span> <span class="n">used</span> <span class="n">by</span> <span class="n">ACD</span>
<span class="s2">&quot;P_PIE&quot;</span> <span class="p">(</span><span class="nb">float</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">):</span> <span class="n">piezoelectric</span> <span class="n">coefficient</span> <span class="n">only</span> <span class="n">used</span> <span class="n">by</span> <span class="n">PIE</span>
<span class="s2">&quot;E_D&quot;</span> <span class="p">(</span><span class="nb">float</span><span class="o">&gt;</span><span class="mi">0</span> <span class="ow">or</span> <span class="p">{</span><span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}):</span> <span class="n">CBM</span><span class="o">/</span><span class="n">VBM</span> <span class="n">acoustic</span> <span class="n">phonon</span>
    <span class="n">deformation</span> <span class="n">potential</span> <span class="n">constant</span> <span class="ow">in</span> <span class="n">eV</span><span class="p">;</span> <span class="n">only</span> <span class="n">used</span> <span class="n">by</span> <span class="n">ACD</span>
<span class="s2">&quot;N_dis&quot;</span> <span class="p">(</span><span class="nb">float</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">):</span> <span class="n">charged</span> <span class="n">linear</span> <span class="n">discloation</span> <span class="n">concentration</span> <span class="n">only</span>
    <span class="n">used</span> <span class="n">by</span> <span class="n">DIS</span><span class="o">.</span> <span class="n">Units</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="n">cm2</span> <span class="p">(</span><span class="c1"># of dislocations in unit thickness)</span>
<span class="s2">&quot;user_bandgap&quot;</span> <span class="p">(</span><span class="nb">float</span><span class="p">):</span> <span class="n">the</span> <span class="n">target</span> <span class="n">band</span> <span class="n">gap</span> <span class="nb">set</span> <span class="n">artificially</span><span class="o">.</span>
<span class="s2">&quot;scissor&quot;</span> <span class="p">(</span><span class="nb">float</span><span class="p">):</span> <span class="n">amount</span> <span class="n">of</span> <span class="n">artificial</span> <span class="n">change</span> <span class="n">to</span> <span class="n">the</span> <span class="n">electronic</span>
    <span class="n">band</span> <span class="n">gap</span> <span class="ow">in</span> <span class="n">eV</span><span class="p">;</span> <span class="n">ignored</span> <span class="k">if</span> <span class="n">user_bandgap</span> <span class="ow">is</span> <span class="nb">set</span><span class="o">.</span>
<span class="s2">&quot;donor_charge&quot;</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">the</span> <span class="n">charge</span> <span class="n">of</span> <span class="n">the</span> <span class="n">shallow</span> <span class="n">donors</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">defaults</span> <span class="n">to</span> <span class="mi">1</span>
<span class="s2">&quot;acceptor_charge&quot;</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">the</span> <span class="n">charge</span> <span class="n">of</span> <span class="n">the</span> <span class="n">shallow</span> <span class="n">acceptors</span>
    <span class="n">defaults</span> <span class="n">to</span> <span class="mi">1</span>
<span class="s2">&quot;dislocations_charge&quot;</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">absolute</span> <span class="n">value</span> <span class="n">of</span> <span class="n">the</span> <span class="n">charge</span> <span class="n">of</span> <span class="n">the</span>
    <span class="n">linear</span> <span class="n">dislocations</span><span class="p">;</span> <span class="n">defaults</span> <span class="n">to</span> <span class="mi">1</span>
<span class="s2">&quot;important_points&quot;</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="n">the</span> <span class="n">important</span> <span class="n">band</span> <span class="n">extrema</span> <span class="n">dominating</span> <span class="n">the</span>
    <span class="n">transport</span><span class="p">;</span> <span class="n">defaults</span> <span class="n">to</span> <span class="kc">None</span> <span class="n">to</span> <span class="n">automatically</span> <span class="n">find</span> <span class="n">those</span> <span class="n">points</span><span class="o">.</span>
    <span class="n">examples</span><span class="p">:</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">{</span><span class="s1">&#39;n&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]],</span>
                       <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]]}</span>
<span class="s2">&quot;W_POP&quot;</span> <span class="p">(</span><span class="nb">float</span><span class="p">):</span> <span class="n">Longitudinal</span> <span class="n">polar</span> <span class="n">optical</span> <span class="n">phonon</span> <span class="n">frequency</span> <span class="ow">in</span> <span class="n">THz</span>
    <span class="n">at</span> <span class="n">the</span> <span class="n">k</span><span class="o">-</span><span class="n">point</span> <span class="n">where</span> <span class="n">the</span> <span class="n">CBM</span><span class="o">/</span><span class="n">VBM</span> <span class="ow">is</span> <span class="n">located</span>
</pre></div>
</div>
<p>example of material_params: {“epsilon_s”: 10.3, “user_bandgap”: 1.}</p>
</li>
<li><strong>vasprun_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – path the vasprun.xml; is set to calc_dir by default</li>
<li><strong>model_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – <p>parameters related to the model and the formulation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;bs_is_isotropic&quot;</span> <span class="p">(</span><span class="nb">bool</span><span class="p">):</span> <span class="n">whether</span> <span class="n">to</span> <span class="n">use</span> <span class="n">isotropic</span> <span class="n">band</span> <span class="n">formulation</span>
    <span class="n">note</span> <span class="n">that</span> <span class="kc">True</span> <span class="ow">is</span> <span class="n">recommended</span> <span class="k">as</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">much</span> <span class="n">faster</span> <span class="n">than</span> <span class="n">the</span>
    <span class="n">anisotropic</span> <span class="n">formulation</span> <span class="k">while</span> <span class="n">still</span> <span class="n">captures</span> <span class="n">some</span> <span class="n">anisotropy</span><span class="o">.</span>
    <span class="n">However</span><span class="p">,</span> <span class="n">some</span> <span class="n">details</span> <span class="n">of</span> <span class="n">anisotropic</span> <span class="n">band</span> <span class="n">may</span> <span class="n">be</span> <span class="n">lost</span> <span class="ow">in</span> <span class="n">which</span>
    <span class="n">case</span> <span class="nb">set</span> <span class="n">to</span> <span class="kc">False</span><span class="o">.</span>
<span class="s2">&quot;elastic_scats&quot;</span> <span class="p">([</span><span class="nb">str</span><span class="p">]):</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">elastic</span> <span class="n">scattering</span> <span class="n">mechanisms</span> <span class="n">to</span>
    <span class="n">be</span> <span class="n">include</span><span class="p">;</span> <span class="k">for</span> <span class="n">example</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;ACD&quot;</span><span class="p">,</span> <span class="s2">&quot;IMP&quot;</span><span class="p">,</span> <span class="s2">&quot;PIE&quot;</span><span class="p">]</span>
<span class="s2">&quot;inelastic_scats&quot;</span> <span class="p">([</span><span class="nb">str</span><span class="p">]):</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">inelastic</span> <span class="n">scattering</span> <span class="n">mechanisms</span>
    <span class="n">to</span> <span class="n">be</span> <span class="n">included</span><span class="p">;</span> <span class="k">for</span> <span class="n">example</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;POP&quot;</span><span class="p">]</span>
<span class="s2">&quot;parabolic_bands&quot;</span> <span class="p">(</span><span class="kc">None</span> <span class="ow">or</span> <span class="nb">list</span><span class="p">):</span> <span class="kc">None</span> <span class="ow">is</span> <span class="n">recommended</span><span class="p">;</span> <span class="n">otherwise</span> <span class="nb">set</span>
    <span class="n">to</span> <span class="n">simulate</span> <span class="n">a</span> <span class="n">band</span> <span class="n">structure</span> <span class="k">with</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">multiple</span> <span class="n">parabolic</span>
    <span class="n">bands</span><span class="p">;</span> <span class="n">For</span> <span class="n">example</span><span class="p">,</span> <span class="p">[[[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.09</span><span class="p">]]]]</span> <span class="n">denotes</span>
    <span class="n">a</span> <span class="n">single</span> <span class="n">parabolic</span> <span class="n">band</span><span class="p">,</span> <span class="k">with</span> <span class="n">a</span> <span class="n">single</span> <span class="n">extremum</span> <span class="n">at</span>
    <span class="n">Gamma</span> <span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="n">that</span> <span class="ow">is</span> <span class="mf">0.0</span> <span class="n">eV</span> <span class="n">above</span><span class="o">/</span><span class="n">below</span> <span class="n">the</span> <span class="n">CBM</span><span class="o">/</span><span class="n">VBM</span> <span class="ow">and</span>
    <span class="n">has</span> <span class="n">an</span> <span class="n">effective</span> <span class="n">mass</span> <span class="n">of</span> <span class="mf">0.09</span><span class="o">.</span> <span class="n">Coordinates</span> <span class="n">are</span> <span class="n">fractional</span><span class="o">.</span> <span class="n">For</span>
    <span class="n">more</span> <span class="n">information</span> <span class="n">see</span> <span class="n">the</span> <span class="n">docs</span> <span class="k">for</span> <span class="n">get_parabolic_energy</span> <span class="n">function</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><strong>performance_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – <p>parameters related to convergence, speed,
etc; the options are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;dE_min&quot;</span> <span class="p">(</span><span class="nb">float</span><span class="p">):</span> <span class="n">minimum</span> <span class="n">energy</span> <span class="n">difference</span> <span class="n">differentiated</span> <span class="ow">in</span> <span class="n">the</span>
    <span class="n">energy</span> <span class="n">grid</span> <span class="p">(</span><span class="n">egrid</span><span class="p">);</span> <span class="n">essentially</span> <span class="n">the</span> <span class="n">resolution</span> <span class="n">of</span> <span class="n">the</span> <span class="n">egrid</span>
<span class="s2">&quot;Ecut&quot;</span> <span class="p">(</span><span class="nb">float</span> <span class="ow">or</span> <span class="p">{</span><span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">}):</span> <span class="n">energy</span> <span class="n">cutoff</span> <span class="kn">from</span> <span class="nn">the</span>
    <span class="n">CBM</span><span class="o">/</span><span class="n">VBM</span> <span class="n">beyond</span> <span class="n">which</span> <span class="n">the</span> <span class="n">band</span> <span class="n">structure</span> <span class="ow">is</span> <span class="n">ignored</span><span class="o">.</span>
<span class="s2">&quot;dos_bwidth&quot;</span> <span class="p">(</span><span class="nb">float</span><span class="p">):</span> <span class="n">the</span> <span class="n">bandwidth</span> <span class="p">(</span><span class="ow">in</span> <span class="n">eV</span><span class="p">)</span> <span class="n">used</span> <span class="k">for</span> <span class="n">calculating</span>
    <span class="n">the</span> <span class="n">density</span> <span class="n">of</span> <span class="n">states</span> <span class="p">(</span><span class="n">DOS</span><span class="p">)</span>
<span class="s2">&quot;dos_kdensity&quot;</span> <span class="p">(</span><span class="nb">int</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">):</span> <span class="n">the</span> <span class="n">uniform</span> <span class="n">k</span><span class="o">-</span><span class="n">point</span> <span class="n">density</span> <span class="k">for</span> <span class="n">DOS</span>
<span class="s2">&quot;BTE_iters&quot;</span> <span class="p">(</span><span class="nb">int</span><span class="o">&gt;</span><span class="mi">3</span><span class="p">):</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">iterations</span> <span class="ow">in</span> <span class="n">solving</span> <span class="n">the</span>
    <span class="n">linearized</span> <span class="n">Boltzmann</span> <span class="n">Transport</span> <span class="n">Equation</span> <span class="p">(</span><span class="n">BTE</span><span class="p">)</span>
<span class="s2">&quot;max_nbands&quot;</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="nb">int</span><span class="o">&gt;=</span><span class="mi">1</span><span class="p">):</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">bands</span> <span class="n">included</span><span class="p">;</span>
    <span class="nb">set</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">autmatic</span> <span class="n">determination</span> <span class="n">bands</span> <span class="n">on</span> <span class="n">the</span> <span class="n">Ecut</span><span class="o">.</span>
<span class="s2">&quot;max_normk0&quot;</span> <span class="p">(</span><span class="nb">float</span><span class="p">):</span> <span class="n">the</span> <span class="n">cutoff</span> <span class="ow">in</span> <span class="n">reciprocal</span> <span class="n">space</span> <span class="kn">from</span> <span class="nn">a</span> <span class="n">given</span>
    <span class="n">extremum</span> <span class="ow">in</span> <span class="n">units</span> <span class="n">of</span> <span class="mi">1</span><span class="o">/</span><span class="n">nm</span>
<span class="s2">&quot;max_nvalleys (None or int&gt;=1): the maximum number of valleys</span>
    <span class="n">included</span> <span class="ow">in</span> <span class="n">each</span> <span class="n">band</span><span class="o">.</span> <span class="n">Set</span> <span class="n">to</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">automatic</span> <span class="n">setting</span><span class="o">.</span>
<span class="s2">&quot;n_jobs&quot;</span> <span class="p">(</span><span class="nb">int</span><span class="o">&gt;=</span><span class="mi">1</span><span class="p">):</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">jobs</span> <span class="ow">in</span> <span class="n">parallelization</span><span class="o">.</span> <span class="n">Currently</span><span class="p">,</span>
    <span class="n">it</span> <span class="ow">is</span> <span class="n">only</span> <span class="n">relevant</span> <span class="n">to</span> <span class="n">interpolation</span> <span class="n">method</span> <span class="n">of</span> <span class="s2">&quot;boltztrap1&quot;</span>
<span class="s2">&quot;interpolation&quot;</span> <span class="p">(</span><span class="nb">str</span><span class="p">):</span> <span class="n">the</span> <span class="n">band</span> <span class="n">structure</span> <span class="n">interpolation</span> <span class="n">method</span><span class="o">.</span>
    <span class="n">Current</span> <span class="n">options</span> <span class="n">are</span> <span class="s2">&quot;boltztrap1&quot;</span> <span class="ow">and</span> <span class="s2">&quot;boltztrap2&quot;</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><strong>dopings</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>]</em>) – list of input carrier concentrations; c&lt;0 for
electrons and c&gt;0 for holes</li>
<li><strong>temperatures</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>]</em>) – input temperatures (T) in Kelvin.</li>
<li><strong>integration</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘e’ or ‘k’. Currently only e or integration of
properties in the energy-scale is supported</li>
<li><strong>loglevel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – e.g. logging.DEBUG; set logging.ERROR to turn off
the logging</li>
<li><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – timeout in hours. If Amset takes longer than this,
the calculations will stop. However, if transport properties
are already calculated, the postprocessing (e.g. write to file)
might violate this timeout.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>results are accessible through various methods such as the
logged result (on the screen or the logfile), or through the following
methods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Amset</span><span class="o">.</span><span class="n">to_csv</span><span class="p">():</span> <span class="n">transport</span> <span class="n">properties</span> <span class="n">at</span> <span class="n">different</span> <span class="n">c</span><span class="o">&amp;</span><span class="n">T</span>
<span class="n">Amset</span><span class="o">.</span><span class="n">as_dict</span><span class="p">():</span> <span class="n">most</span> <span class="n">commonly</span> <span class="n">used</span> <span class="n">attributes</span> <span class="k">as</span> <span class="n">python</span> <span class="n">dictionary</span>
<span class="n">Amset</span><span class="o">.</span><span class="n">to_json</span><span class="p">():</span> <span class="n">details</span> <span class="n">of</span> <span class="n">relaxation</span> <span class="n">time</span><span class="p">,</span> <span class="n">scattering</span> <span class="n">rates</span><span class="p">,</span> <span class="n">group</span>
    <span class="n">velocities</span><span class="p">,</span> <span class="n">etc</span> <span class="ow">in</span> <span class="n">both</span> <span class="n">kgrid</span> <span class="ow">and</span> <span class="n">egrid</span>
<span class="n">Amset</span><span class="o">.</span><span class="n">to_file</span><span class="p">():</span> <span class="n">writes</span> <span class="n">everything</span> <span class="n">to</span> <span class="n">a</span> <span class="n">json</span> <span class="n">file</span> <span class="n">to</span> <span class="n">be</span> <span class="n">used</span> <span class="n">again</span>
    <span class="n">later</span> <span class="p">(</span><span class="n">via</span> <span class="n">Amset</span><span class="o">.</span><span class="n">from_file</span><span class="p">()</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="k">for</span> <span class="n">plotting</span><span class="p">)</span><span class="o">.</span> <span class="n">to_file</span> <span class="ow">is</span>
    <span class="n">more</span> <span class="n">complete</span> <span class="n">than</span> <span class="n">to_json</span> <span class="ow">and</span> <span class="ow">is</span> <span class="n">readable</span> <span class="n">by</span> <span class="n">from_file</span>
<span class="n">Amset</span><span class="o">.</span><span class="n">plot</span><span class="p">():</span> <span class="n">convenience</span> <span class="n">function</span> <span class="n">to</span> <span class="n">plot</span> <span class="n">the</span> <span class="n">mobilities</span><span class="p">,</span> <span class="n">energy</span><span class="p">,</span>
    <span class="n">perturbation</span> <span class="n">function</span><span class="p">,</span> <span class="n">scattering</span> <span class="n">rates</span><span class="p">,</span> <span class="n">etc</span><span class="o">.</span>
</pre></div>
</div>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)">None</a>)</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="amset.core.Amset.G">
<code class="descname">G</code><span class="sig-paren">(</span><em>tp</em>, <em>ib</em>, <em>ik</em>, <em>ib_prm</em>, <em>ik_prm</em>, <em>X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.G"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.G" title="Permalink to this definition">¶</a></dt>
<dd><p>The overlap integral betweek vectors k and k’</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ik</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – index of vector k in kgrid</li>
<li><strong>ik_prm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – index of vector k’ in kgrid</li>
<li><strong>X</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – cosine of the angle between vectors k and k’</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (float): the overlap integral</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.array_from_kgrid">
<code class="descname">array_from_kgrid</code><span class="sig-paren">(</span><em>prop_name</em>, <em>tp</em>, <em>c=None</em>, <em>T=None</em>, <em>denom=False</em>, <em>none_missing=False</em>, <em>fill=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.array_from_kgrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.array_from_kgrid" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>method used only by “k”-integration method.</strong></p>
<p>turns a kgrid property into a list of grid arrays of that property for k integration</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>prop_name</strong> – </li>
<li><strong>tp</strong> – </li>
<li><strong>c</strong> – </li>
<li><strong>T</strong> – </li>
<li><strong>denom</strong> – </li>
<li><strong>none_missing</strong> – </li>
<li><strong>fill</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.as_dict">
<code class="descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Mobility, input parameters, etc as a serializable python dictionary.</p>
<p>Returns (dict):</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.calc_parabolic_energy">
<code class="descname">calc_parabolic_energy</code><span class="sig-paren">(</span><em>xkpt</em>, <em>tp</em>, <em>ib</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.calc_parabolic_energy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.calc_parabolic_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates parabolic or other parabolic bands at given k-point &amp; band</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xkpt</strong> (<em>3x1 array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – fractional coordinates of a given k-point</li>
<li><strong>tp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘n’ or ‘p’ type</li>
<li><strong>ib</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the band index</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(energy(eV), velocity (cm/s), effective mass) from a parabolic band</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.calc_v_vec">
<code class="descname">calc_v_vec</code><span class="sig-paren">(</span><em>tp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.calc_v_vec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.calc_v_vec" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>method used only by “k”-integration method.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tp</strong> – </td>
</tr>
</tbody>
</table>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.calculate_N_II">
<code class="descname">calculate_N_II</code><span class="sig-paren">(</span><em>c</em>, <em>T</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.calculate_N_II"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.calculate_N_II" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the total simulated ionoized impurity concentration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the carrier concentration</li>
<li><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the temperature in kelvin</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (float): inoized impurity (IMP) scattering concentration (N_II)</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.calculate_property">
<code class="descname">calculate_property</code><span class="sig-paren">(</span><em>prop_name</em>, <em>prop_func</em>, <em>for_all_E=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.calculate_property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.calculate_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the propery at all concentrations and temperatures using
the given function and insert it into self.egrid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>prop_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the name of the property</li>
<li><strong>prop_func</strong> (<em>obj</em>) – the given function MUST takes c and T as required
inputs in this order.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns (None):</dt>
<dd>populates the prop_name in egrid.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.calculate_spb_transport">
<code class="descname">calculate_spb_transport</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.calculate_spb_transport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.calculate_spb_transport" title="Permalink to this definition">¶</a></dt>
<dd><p>Using single parabolic band (SPB), calculates some elastic scattering-
limited mobility values named with an “SPB_*” prefix. For example,
mobility limited by acoustic phonon deformation potential (SPB_ACD)</p>
<p>Returns: None; results are saved inside self.mobility</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.calculate_transport_properties_with_E">
<code class="descname">calculate_transport_properties_with_E</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.calculate_transport_properties_with_E"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.calculate_transport_properties_with_E" title="Permalink to this definition">¶</a></dt>
<dd><p>Mobility and Seebeck coefficient are calculated by integrating the
perturbation of electron distribution and group velocity over the energy</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.calculate_transport_properties_with_k">
<code class="descname">calculate_transport_properties_with_k</code><span class="sig-paren">(</span><em>test_anisotropic</em>, <em>important_points</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.calculate_transport_properties_with_k"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.calculate_transport_properties_with_k" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>method used only by “k”-integration method.</strong></p>
<p>Calculates transport properties for isotropic materials with integration
over the k-points rather than energy</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>test_anisotropic</strong> – </li>
<li><strong>important_points</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.el_integrand_X">
<code class="descname">el_integrand_X</code><span class="sig-paren">(</span><em>tp</em>, <em>c</em>, <em>T</em>, <em>ib</em>, <em>ik</em>, <em>ib_prm</em>, <em>ik_prm</em>, <em>X</em>, <em>sname=None</em>, <em>g_suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.el_integrand_X"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.el_integrand_X" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Returns the evaluated (float) expression inside the elastic equations</dt>
<dd>to be integrated over angles, dX.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – “n” or “p” type</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – carrier concentration/doping in cm**-3</li>
<li><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the temperature</li>
<li><strong>ib</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the band index starting from 0 (CBM/VBM)</li>
<li><strong>ik</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the k-point index</li>
<li><strong>ib_prm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – ib’ (band index for k’ state)</li>
<li><strong>ik_prm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – ik’ (k-index for k’ state)</li>
<li><strong>X</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the angle between k and k’</li>
<li><strong>sname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – elastic scattering name: ‘ACD’, ‘PIE’, ‘IMP’</li>
<li><strong>g_suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘’ or ‘_th’ (th for thermal)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (float): the integrand for elastic scattering integration</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.find_all_important_points">
<code class="descname">find_all_important_points</code><span class="sig-paren">(</span><em>coeff_file</em>, <em>nbelow_vbm=0</em>, <em>nabove_cbm=0</em>, <em>interpolation='boltztrap1'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.find_all_important_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.find_all_important_points" title="Permalink to this definition">¶</a></dt>
<dd><p>As the name suggests, given some pre-populated variables such as bs and
cbm_vbm and the rest of input args, it calculates the k-coordinates of
the band structure extrema (valence band maxima or conduction band
minima) at the specified bands which are the “important” points. Note
that the symmetrically equivalent k-points and those points that are
too close to each other are excluded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>coeff_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – path to the coefficient file only related to
boltztrap1 interpolation method</li>
<li><strong>nbelow_vbm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – sets how many bands below the VBM is the target
valence band</li>
<li><strong>nabove_cbm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – sets how many bands above the CBM is the target
conduction band</li>
<li><strong>interpolation</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – interpolation method</li>
<li><strong>**kwargs</strong> – other keyword arguments related to get_bs_extrema such
as line_density</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns ({“n”: [3x1 array], “p”:[3x1 array]}):</dt>
<dd>list of band extrema (i.e. important k-points) for the selected
conduction (“n”) and valence (“p”) band.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.find_dv">
<code class="descname">find_dv</code><span class="sig-paren">(</span><em>grid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.find_dv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.find_dv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="amset.core.Amset.find_fermi">
<code class="descname">find_fermi</code><span class="sig-paren">(</span><em>c</em>, <em>T</em>, <em>rtol=0.01</em>, <em>rtol_loose=0.03</em>, <em>step=0.1</em>, <em>nstep=50</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.find_fermi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.find_fermi" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the Fermi level at a given c and T at egrid (i.e. DOS)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The doping concentration;
c &lt; 0 indicate n-type (i.e. electrons) and c &gt; 0 for p-type</li>
<li><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The temperature.</li>
<li><strong>rtol</strong> (<em>0&lt;float&lt;1</em>) – convergance threshold for relative error</li>
<li><strong>rtol_loose</strong> (<em>0&lt;float&lt;1</em>) – maximum relative error allowed between the
calculated and input c</li>
<li><strong>step</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – initial step size in eV. (-step*nstep,step*nstep) is
the initial energy range around the fermi level initial guess</li>
<li><strong>nstep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of steps to check before and after a given
fermi level</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns (float in eV):</dt>
<dd>The fitted/calculated Fermi level</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.find_fermi_k">
<code class="descname">find_fermi_k</code><span class="sig-paren">(</span><em>tolerance=0.001</em>, <em>num_bands=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.find_fermi_k"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.find_fermi_k" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>method used only by “k”-integration method.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tolerance</strong> – </li>
<li><strong>num_bands</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
</dd></dl>

<dl class="staticmethod">
<dt id="amset.core.Amset.from_file">
<em class="property">static </em><code class="descname">from_file</code><span class="sig-paren">(</span><em>path=None</em>, <em>dir_name='run_data'</em>, <em>filename='amsetrun.json'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an Amset instance from a json file written by the Amset.to_file()
method. This way, for example, the class attributes such as .mobility
can be directly accessed or the plot() method can be called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – path to the folder containing the saved json file.</li>
<li><strong>dir_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the name of the folder containing the save json
file (ignored if path is already set).</li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the name of the json file used to save Amset
via the Amset.to_file() method.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns (instantiated Amset class): some of the most important (not all)</dt>
<dd>attributes will be populated.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.generate_angles_and_indexes_for_integration">
<code class="descname">generate_angles_and_indexes_for_integration</code><span class="sig-paren">(</span><em>avg_Ediff_tolerance=0.02</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.generate_angles_and_indexes_for_integration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.generate_angles_and_indexes_for_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the indexes of k’ points that have the same energy (for elastic scattering) as E(k) or
have energy equal to E(k) plus or minus of the energy of the optical phonon for inelastic scattering.
Also, generated and stored the cosine of the angles between such points and a given input k-point</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>avg_Ediff_tolerance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – in eV the average allowed energy difference between the target E(k’) and
what it actially is (e.g. to prevent/identify large energy differences if enforced scattering)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.generate_kmesh">
<code class="descname">generate_kmesh</code><span class="sig-paren">(</span><em>important_points</em>, <em>kgrid_tp='coarse'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.generate_kmesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.generate_kmesh" title="Permalink to this definition">¶</a></dt>
<dd><p>List of kpoints surrounding important points. This adaptive mesh is
finer closer to the “important” points or band extrema and they get
coarser further away.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>(</strong><strong>{&quot;n&quot;</strong> (<em>important_points</em>) – [3x1 array], “p”: [3x1 array]}): list of
important k-points for conduction (“n”) and valence (“p”) bands</li>
<li><strong>kgrid_tp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – type of kgrid or how dense it is. options are:
“very coarse”, “coarse”, “fine”, “very fine”, “super fine”</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns ({“n”: [3x1 array], “p”: [3x1 array]}): list of k-points for</dt>
<dd>both n and p type.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.get_Eidx_in_dos">
<code class="descname">get_Eidx_in_dos</code><span class="sig-paren">(</span><em>E</em>, <em>Estep=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.get_Eidx_in_dos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.get_Eidx_in_dos" title="Permalink to this definition">¶</a></dt>
<dd><p>After the density of states (DOS) is initialized this function returns
the index of a given energy level</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>E</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the energy level in eV</li>
<li><strong>Estep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – optional, the energy step used in calculating DOS</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (int): index of the energy level in the DOS</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.get_X_ib_ik_near_new_E">
<code class="descname">get_X_ib_ik_near_new_E</code><span class="sig-paren">(</span><em>tp</em>, <em>ib</em>, <em>ik</em>, <em>E_change</em>, <em>forced_min_npoints=0</em>, <em>tolerance=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.get_X_ib_ik_near_new_E"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.get_X_ib_ik_near_new_E" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the sorted (based on angle, X) list of angle and band and
k-point indexes of all the points that are within tolerance of E + E_change</p>
<p><strong>Attention! this function assumes self.kgrid is sorted based on the
energy in ascending order.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – type of the band; options: “n” or “p”</li>
<li><strong>ib</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the band index</li>
<li><strong>ik</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the k-point index</li>
<li><strong>E_change</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the difference between E(k’) and E(k)</li>
<li><strong>forced_min_npoints</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the number of k-points that are forcefully included in
scattering if not enough points are found</li>
<li><strong>tolerance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the energy tolerance for finding the k’ points that are within E_change energy of E(k)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.get_cartesian_coords">
<code class="descname">get_cartesian_coords</code><span class="sig-paren">(</span><em>frac_k</em>, <em>reciprocal=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.get_cartesian_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.get_cartesian_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Transformation from fractional too cartesian. Note that this is different
form get_cartesian_coords method available in self._rec_lattice, that
one does NOT work with BolzTraP outputs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>frac_k</strong> (<em>np.ndarray</em>) – a 3-D vector in fractional (unitless)</li>
<li><strong>or a list of such coordinates</strong> (<em>coordinates</em>) – </li>
<li><strong>reciprocal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether the cartesian output is in real (Angstrom)
or reciprocal space (1/Angstrom).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (np.ndarray): frac_k ransformed into cartesian coordinates</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.get_energy_array">
<code class="descname">get_energy_array</code><span class="sig-paren">(</span><em>coeff_file</em>, <em>kpts</em>, <em>once_called=False</em>, <em>return_energies=False</em>, <em>num_bands=None</em>, <em>nbelow_vbm=0</em>, <em>nabove_cbm=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.get_energy_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.get_energy_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Multi-purpose function to populate energy_array instance variable as
well as the dos and dos_* instance variables when the function is called
for the first time. These are all calculated for a given k-point mesh
(kpts) that may be different for n-type and p-type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coeff_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the path to the file containing the boltztrap1
interpolation coefficients. Only relevant to boltztrap1
interpolation method.</li>
<li><strong>(</strong><strong>{&quot;n&quot;</strong> (<em>num_bands</em>) – [3x1 array], “p”: [3x1 array]}): k-point meshes</li>
<li><strong>once_called</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether this function is called once before</li>
<li><strong>return_energies</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether to return sorted energy values</li>
<li><strong>(</strong><strong>{&quot;n&quot;</strong> – int, “p”: int}): number of bands for n- and p-type</li>
<li><strong>nbelow_vbm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of bands below the VBM</li>
<li><strong>nabove_cbm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of bands ablove the CBM</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">depending on return_energies only returns back the kpts with k-point
coordinates sorted based on their energy value or that and also the
sorted energy values.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.get_scalar_output">
<code class="descname">get_scalar_output</code><span class="sig-paren">(</span><em>vec</em>, <em>dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.get_scalar_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.get_scalar_output" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>method used only by “k”-integration method.</strong></p>
<p>As the name suggests, it returns a scalar off a vector for plotting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vec</strong> (<em>3x1 array</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – the input vector.</li>
<li><strong>dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the direction; options are “x”, “y”, “z” and “avg”</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (float):</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.grid_from_energy_list">
<code class="descname">grid_from_energy_list</code><span class="sig-paren">(</span><em>props</em>, <em>tp</em>, <em>ib</em>, <em>denom=False</em>, <em>none_missing=False</em>, <em>fill=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.grid_from_energy_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.grid_from_energy_list" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>method used only by “k”-integration method.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>props</strong> – a list that is sorted by energy and missing removed points</li>
<li><strong>tp</strong> – </li>
<li><strong>ib</strong> – </li>
<li><strong>denom</strong> – </li>
<li><strong>none_missing</strong> – </li>
<li><strong>fill</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.grid_from_ordered_list">
<code class="descname">grid_from_ordered_list</code><span class="sig-paren">(</span><em>props</em>, <em>tp</em>, <em>denom=False</em>, <em>none_missing=False</em>, <em>scalar=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.grid_from_ordered_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.grid_from_ordered_list" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>method used only by “k”-integration method.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>props</strong> – </li>
<li><strong>tp</strong> – </li>
<li><strong>denom</strong> – </li>
<li><strong>none_missing</strong> – </li>
<li><strong>scalar</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns:  a grid of the (x,y,z) k points in the proper grid</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.inel_integrand_X">
<code class="descname">inel_integrand_X</code><span class="sig-paren">(</span><em>tp</em>, <em>c</em>, <em>T</em>, <em>ib</em>, <em>ik</em>, <em>ib_prm</em>, <em>ik_prm</em>, <em>X</em>, <em>sname=None</em>, <em>g_suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.inel_integrand_X"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.inel_integrand_X" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the evaluated (float) expression of the S_o &amp; S_i(g) integrals.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – “n” or “p” type</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – carrier concentration/doping in cm**-3</li>
<li><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the temperature</li>
<li><strong>ib</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the band index starting from 0 (CBM/VBM)</li>
<li><strong>ik</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the k-point index</li>
<li><strong>ib_prm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – ib’ (band index for k’ state)</li>
<li><strong>ik_prm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – ik’ (k-index for k’ state)</li>
<li><strong>X</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the angle between k and k’</li>
<li><strong>sname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – scattering name: ‘S_oX_Eplus_ik’, ‘S_oX_Eminus_ik’,
‘S_iX_Eplus_ik’ or ‘S_iX_Eminus_ik’</li>
<li><strong>g_suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘’ or ‘_th’ (th for thermal)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns (float): the integrand for POP scattering (to be integrated</dt>
<dd>over X)</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.init_egrid">
<code class="descname">init_egrid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.init_egrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.init_egrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the self.egrid dict containing energy grid and relevant
properties such as “DOS”. This must be called after pre_init_egrid so
that the energy values are already populated.</p>
<dl class="docutils">
<dt>Returns ([str]): keep track of which types failed; “n” or “p” type or</dt>
<dd>neither. Cause of failure could be that too few k-points are left
for that type.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.init_kgrid">
<code class="descname">init_kgrid</code><span class="sig-paren">(</span><em>kpts</em>, <em>important_points</em>, <em>delete_off_points=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.init_kgrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.init_kgrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the kgrid dict that contain various properties such as
energy, velocity, cartesian_kpoints, etc for both “n”-type (conduction
bands) and “p”-type (valence bands) based on the k-point mesh, kpts,
surrounding the important_points that are the important extrema.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kpts</strong> (<em>[</em><em>3x1 arrays</em><em>]</em>) – list of k-points fractional coordinates</li>
<li><strong>(</strong><strong>{&quot;n&quot;</strong> (<em>important_points</em>) – [3x1 arrays], “p”: [3x1 arrays]}):</li>
<li><strong>delete_off_points</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether to delete points that have too
low velocity or energy values too off from CBM/VBM, etc. True
is recommended, set False only for testing</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns ([str]): keep track of which types failed; “n” or “p” type or</dt>
<dd>neither. Cause of failure could be that too few k-points are left
for that type.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.initialize_var">
<code class="descname">initialize_var</code><span class="sig-paren">(</span><em>grid</em>, <em>names</em>, <em>val_type='scalar'</em>, <em>initval=0.0</em>, <em>is_nparray=True</em>, <em>c_T_idx=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.initialize_var"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.initialize_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a variable/key within the self.kgrid variable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>grid</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – options are “kgrid” or “egrid”: whether to initialize vars in self.kgrid or self.egrid</li>
<li><strong>names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – list of the names of the variables</li>
<li><strong>val_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – options are “scalar”, “vector”, “matrix” or “tensor”</li>
<li><strong>initval</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the initial value (e.g. if val_type==”vector”, each of the vector’s elements==init_val)</li>
<li><strong>is_nparray</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether the final initial content is an numpy.array or not.</li>
<li><strong>c_T_idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether to define the variable at each concentration, c, and temperature, T.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.integrate_func_over_E">
<code class="descname">integrate_func_over_E</code><span class="sig-paren">(</span><em>func</em>, <em>tp</em>, <em>fermi</em>, <em>T</em>, <em>interpolation_nsteps=None</em>, <em>xDOS=True</em>, <em>normalize_energy=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.integrate_func_over_E"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.integrate_func_over_E" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrates a single function (func) over the egrid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><em>object</em></a>) – a function object</li>
<li><strong>tp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – options are “n” or “p”</li>
<li><strong>fermi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the fermi level</li>
<li><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the temperature in Kelvin</li>
<li><strong>interpolation_nsteps</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the resolution of integration</li>
<li><strong>xDOS</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether to multiply each energy value by its density
of states (DOS)</li>
<li><strong>normalize_energy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether to set the CBM/VBM as the reference</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The integral value of func, integrated over the egrid.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.integrate_over_E">
<code class="descname">integrate_over_E</code><span class="sig-paren">(</span><em>props</em>, <em>tp</em>, <em>c</em>, <em>T</em>, <em>xDOS=False</em>, <em>xvel=False</em>, <em>interpolation_nsteps=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.integrate_over_E"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.integrate_over_E" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrates the multiplication of props in the egrid over dE where
E stands for energy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>props</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – <p>list of property names. These properties must
be available in egrid such as “g” or “df0dk” or “ACD”. Note
that some simple math operations of properties are permitted.
examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;1 - f0&quot;</span>
<span class="s2">&quot;f0x1-f0&quot;</span>
<span class="s2">&quot;/ACD&quot;</span>
</pre></div>
</div>
</li>
<li><strong>tp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – “p” (valence bands) or “n” (conduction bands) type</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the carrier concentration</li>
<li><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the absolute temperature in Kelvin</li>
<li><strong>xDOS</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether to multiply the integrand by density of states</li>
<li><strong>xvel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether to multiply the integrand by the group velocity</li>
<li><strong>interpolation_nsteps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of steps (dE) between each
energy levels in egrid; the higher the more accurate but slower</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (float): the result of the integrations</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.integrate_over_X">
<code class="descname">integrate_over_X</code><span class="sig-paren">(</span><em>tp</em>, <em>X_E_index</em>, <em>integrand</em>, <em>ib</em>, <em>ik</em>, <em>c</em>, <em>T</em>, <em>sname=None</em>, <em>g_suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.integrate_over_X"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.integrate_over_X" title="Permalink to this definition">¶</a></dt>
<dd><p>integrate numerically with a simple trapezoidal algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘n’ or ‘p’ type</li>
<li><strong>X_E_index</strong> (<em>[</em><em>[</em><em>[</em><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>)</em><em>]</em><em>]</em><em>]</em>) – list of (X, ib’, ik’) for each
k-point at each band</li>
<li><strong>integrand</strong> (<em>func</em>) – the integrand function; options: el_integrand_X
or inel_integrand_X for elastic and inelastic respectively</li>
<li><strong>ib</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the band index</li>
<li><strong>ik</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the k-point index</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the carrier concentration</li>
<li><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the temperature</li>
<li><strong>sname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the scattering name (see options in the documentation
of el_integrand_X and inel_integrand_X functions</li>
<li><strong>g_suffix</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (float or numpy.array): the integrated value/vector</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.integrate_over_k">
<code class="descname">integrate_over_k</code><span class="sig-paren">(</span><em>func_grid</em>, <em>tp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.integrate_over_k"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.integrate_over_k" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a coordinate grid in the form of a numpy array (CANNOT have
missing points) and a function to integrate and finds the integral
using finite differences; missing points should be input as 0 in the
.function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func_grid</strong> – in the interest of not prematurely optimizing, func_grid
must be a  perfect grid: the only deviation from
the cartesian coordinate system can be uniform stretches,
distance between adjacent planes of points as in the
can be any value, but no points can be missing from the next
plane in this case the format of fractional_grid is a 4d grid
the last dimension is a vector of the k point fractional coordinates
the dv grid is 3d and the indexes correspond to those of func_grid</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.integrate_over_states">
<code class="descname">integrate_over_states</code><span class="sig-paren">(</span><em>integrand_grid</em>, <em>tp='all'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.integrate_over_states"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.integrate_over_states" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>method used only by “k”-integration method.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>integrand_grid</strong> – list or array of array grids</li>
<li><strong>tp</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.inverse_screening_length">
<code class="descname">inverse_screening_length</code><span class="sig-paren">(</span><em>c</em>, <em>T</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.inverse_screening_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.inverse_screening_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the inverse charge screening length (beta) based on Eq. 70
of reference [R]. Beta is used in calculation of ionized impurity (IMP)
scattering.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the carrier concentration (to get the fermi level)</li>
<li><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the temperature</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (float): the inverse screening length (beta) in 1/nm units</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.map_to_egrid">
<code class="descname">map_to_egrid</code><span class="sig-paren">(</span><em>prop_name</em>, <em>c_and_T_idx=True</em>, <em>prop_type='vector'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.map_to_egrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.map_to_egrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps a propery from kgrid to egrid conserving the nomenclature.
The mapped property w/ format: kgrid[tp][prop_name][c][T][ib][ik]
will have the format: egrid[tp][prop_name][c][T][ie]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>prop_name</strong> (<em>string</em>) – the name of the property to be mapped. It must
be available in the kgrid.</li>
<li><strong>c_and_T_idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – if True, the propetry will be calculated and
mapped at each concentration, c, and T</li>
<li><strong>prop_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – options are “scalar”, “vector”, “tensor”</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (None): sets egrid[tp][prop_name][c][T] as floats or np.ndarray</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>k_plots=None</em>, <em>E_plots=None</em>, <em>mobility=True</em>, <em>mode='offline'</em>, <em>concentrations='all'</em>, <em>temperatures='all'</em>, <em>carrier_types=None</em>, <em>direction=None</em>, <em>fontsize=30</em>, <em>ticksize=25</em>, <em>path=None</em>, <em>dir_name='plots'</em>, <em>margins=100</em>, <em>fontfamily='serif'</em>, <em>include_avg=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the given k_plots and E_plots properties.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>k_plots</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – the names of the quantities to be plotted against norm(k)
options: ‘energy’, ‘df0dk’, ‘velocity’, or just string ‘all’ (not in a list) to plot everything</li>
<li><strong>E_plots</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – options: ‘frequency’, ‘relaxation time’, ‘_all_elastic’, ‘df0dk’, ‘velocity’, ‘ACD’, ‘IMP’, ‘PIE’, ‘g’,
‘g_POP’, ‘g_th’, ‘S_i’, ‘S_o’, or just string ‘all’ (not in a list) to plot everything</li>
<li><strong>mobility</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – if True, create a mobility against temperature plot</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – plotly mode defaulting to ‘offline’; see figrecipe
documentation for more information. For example if “static”
(saving the figures directly w/o interactive display), the
plotly credentials are required.</li>
<li><strong>concentrations</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>]</em>) – carrier concentrations, or the string ‘all’ to plot the
results of calculations done with all input concentrations</li>
<li><strong>temperatures</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) – temperatures to be included in the plots</li>
<li><strong>carrier_types</strong> (<em>list of strings</em>) – select carrier types to plot data for - [‘n’], [‘p’], or [‘n’, ‘p’]</li>
<li><strong>direction</strong> (<em>list of strings</em>) – options to include in list are ‘x’, ‘y’, ‘z’, ‘avg’; determines which
components of vector quantities are plotted</li>
<li><strong>fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – size of title and axis label text</li>
<li><strong>ticksize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – size of axis tick label text</li>
<li><strong>path</strong> (<em>string</em>) – location to save plots</li>
<li><strong>dir_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the name of the folder where plot files are saved</li>
<li><strong>margins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – figrecipes plotly margins</li>
<li><strong>fontfamily</strong> (<em>string</em>) – plotly font</li>
<li><strong>include_avg</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether to include the “average” mobility in
the mobility plot. False is recommended as mixing “overall” and
“average” mobility may be confusing.</li>
<li><strong>**kwargs</strong> – other keyword arguments of matminer.figrecipes.plot.PlotlyFig
for example, for setting plotly credential when mode==”static”
note that if mode is “static” Plotly username and api_key need
to be set</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.pre_init_egrid">
<code class="descname">pre_init_egrid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.pre_init_egrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.pre_init_egrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Just to initialize the energy grid (egrid) and the energy values as
opposed to all the variables defined in the final egrid.</p>
<dl class="docutils">
<dt>Returns ([str]): keep track of which types failed; “n” or “p” type or</dt>
<dd>neither. Cause of failure could be that too few k-points are left
for that type.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.read_vrun">
<code class="descname">read_vrun</code><span class="sig-paren">(</span><em>vasprun_file=None</em>, <em>filename='vasprun.xml'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.read_vrun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.read_vrun" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the vasprun file and populates some instance variables such as
volume, interp_params, _vrun, etc to be used by other methods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vasprun_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – full path to the vasprun file. If provided,
the filename will be ignored.</li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – if vasprun_file is None, this filename will be
looked for inside calc_dir to be used as the vasprun file</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (None):</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.remove_indexes">
<code class="descname">remove_indexes</code><span class="sig-paren">(</span><em>rm_idx_list</em>, <em>rearranged_props</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.remove_indexes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.remove_indexes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>The k-points with velocity &lt; 1 cm/s (either in valence or conduction band) are taken out as those are</dt>
<dd>troublesome later with extreme values (e.g. too high elastic scattering rates)</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rm_idx_list</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) – the kpoint indexes that need to be removed for each property</li>
<li><strong>rearranged_props</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – list of properties for which some indexes need to be removed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>coeff_file=None</em>, <em>kgrid_tp='coarse'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.run" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Function to run Amset and log the main outputs, populate the two main</dt>
<dd>grid variables: k-points grid (kgrid) and energy grid (egrid) and
class attributes such as Amset.mobility and Amset.seebeck.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>coeff_file</strong> – the path to fort.123* file containing the coefficients of
the interpolated band structure generated by a modified version of
BoltzTraP. If None, BoltzTraP will run to generate the file.</li>
<li><strong>kgrid_tp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – define the density of k-point mesh.
options: ‘very coarse’, ‘coarse’, ‘fine’</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns (None):</dt>
<dd>many instance variables get updated with calculated properties.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.run_profiled">
<code class="descname">run_profiled</code><span class="sig-paren">(</span><em>coeff_file=None</em>, <em>kgrid_tp='coarse'</em>, <em>nfuncs=15</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.run_profiled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.run_profiled" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Very similar to the run method except that it is time-profiled: it</dt>
<dd>shows the total and per-call time elapsed in running each function.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>args</strong> (<em>see</em>) – </li>
<li><strong>nfuncs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – only print the nfuncs most time-consuming functions</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.s_el_eq">
<code class="descname">s_el_eq</code><span class="sig-paren">(</span><em>sname</em>, <em>tp</em>, <em>c</em>, <em>T</em>, <em>k</em>, <em>k_prm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.s_el_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.s_el_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the scattering rate at wave vector k at a certain concentration and temperature
for a specific elastic scattering mechanisms determined by sname</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sname</strong> (<em>string</em>) – abbreviation of the name of the elastic scatteirng mechanisms; options: IMP, ADE, PIE, DIS</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – carrier concentration</li>
<li><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the temperature</li>
<li><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – list containing fractional coordinates of the k vector</li>
<li><strong>k_prm</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – list containing fractional coordinates of the k prime vector</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.s_el_eq_isotropic">
<code class="descname">s_el_eq_isotropic</code><span class="sig-paren">(</span><em>sname</em>, <em>tp</em>, <em>c</em>, <em>T</em>, <em>ib</em>, <em>ik</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.s_el_eq_isotropic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.s_el_eq_isotropic" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns elastic scattering rate (a numpy vector) at given point
(i.e. k-point, c, T) in isotropic formulation (i.e. if
self.bs_is_isotropic==True). This assumption significantly simplifies
the model and the integrated rates at each k/energy directly extracted
from the literature can be used here.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – elastic scattering name: ‘ACD’, ‘IMP’, ‘PIE’, ‘DIS’</li>
<li><strong>tp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘n’ or ‘p’ type respectively for conduction and valence</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – carrier concentration</li>
<li><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – temperature</li>
<li><strong>ib</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – band index starting from 0 (0 for CBM/VBM bands)</li>
<li><strong>ik</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – k-point index</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (float): scalar (since assumed isotropic) scattering rate.</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.s_elastic">
<code class="descname">s_elastic</code><span class="sig-paren">(</span><em>sname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.s_elastic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.s_elastic" title="Permalink to this definition">¶</a></dt>
<dd><p>The scattering rate equation for each elastic scattering name (sname)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sname</strong> (<em>st</em>) – elastic scattering name: ‘IMP’, ‘ADE’, ‘PIE’, ‘DIS’</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>it directly calculates the scattering rate at each k-point at each</dt>
<dd>c and T (self.kgrid[tp][sname][c][T][ib][ik])</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.s_inel_eq_isotropic">
<code class="descname">s_inel_eq_isotropic</code><span class="sig-paren">(</span><em>once_called=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.s_inel_eq_isotropic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.s_inel_eq_isotropic" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>calclates the inelastic S_i and S_o scattering rates in the kgrid based</dt>
<dd>on the isotropic formulation (integrated equations from Rode)</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>once_called</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – since scattering out, S_o, needs to be
calculated only once (not a function of g), we use this flag</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">updates values of S_i and S_o (np.array at each k-point) in kgrid</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.s_inelastic">
<code class="descname">s_inelastic</code><span class="sig-paren">(</span><em>sname=None</em>, <em>g_suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.s_inelastic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.s_inelastic" title="Permalink to this definition">¶</a></dt>
<dd><p>For the anisotropic formulation, sets the inelastic scattering rates,
S_o and S_i, in the kgrid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – scattering name; current options are “S_o” and “S_i”</li>
<li><strong>g_suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – this suffix determines which phenomena is the
perturbation to the electronic distribution (g) come from.
Current options are “” (overall, electric) and “_th” (thermal)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (None):</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.seeb_int_denom">
<code class="descname">seeb_int_denom</code><span class="sig-paren">(</span><em>c</em>, <em>T</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.seeb_int_denom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.seeb_int_denom" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the denominator of the integral term in eq (52) of [R] for
calculation of the Seebeck coefficient.</p>
<p><em>This is a wrapper function used as an input to calculate_property.</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the carrier concentration &lt;0 for electrons, &gt;0 for holes</li>
<li><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – temperature in Kelvin</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">{“n”: float, “p”: float}): Seebeck integral denominator
integrated over the energy scale (egrid).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.seeb_int_num">
<code class="descname">seeb_int_num</code><span class="sig-paren">(</span><em>c</em>, <em>T</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.seeb_int_num"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.seeb_int_num" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the numerator of the integral term in eq (52) of [R] for
calculation of the Seebeck coefficient.</p>
<p><em>This is a wrapper function used as an input to calculate_property.</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the carrier concentration &lt;0 for electrons, &gt;0 for holes</li>
<li><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – temperature in Kelvin</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns (dict: {“n”: float, “p”: float}): Seebeck integral numerator</dt>
<dd>integrated over the energy scale (egrid).</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.set_material_params">
<code class="descname">set_material_params</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.set_material_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.set_material_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set (or retrieve from input parameters) the material’s parameters.
This method is meant to be called after set_model_parameters as it may
modify self.model_parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – some parameters such as “epsilon_s” are mandatory.
for example params={} is not acceptable but the following is:
params = {‘epsilon_s’: 11.111}</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns (None):</dt>
<dd><dl class="first last docutils">
<dt>Sets the corresponding material parameters and material_params</dt>
<dd>instance variables.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.set_model_params">
<code class="descname">set_model_params</code><span class="sig-paren">(</span><em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.set_model_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.set_model_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set (or retrieve from input parameters) instance variables related to
the model and the level of the theory; these are set based on params
(dict) set by the user or their default values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – </td>
</tr>
</tbody>
</table>
<p>Returns (None):</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.set_performance_params">
<code class="descname">set_performance_params</code><span class="sig-paren">(</span><em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.set_performance_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.set_performance_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set (or retrieve from input parameters) that are related to running
performance and speed and store them as corresponding instance variables</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – must be at least {} to invoke all the default values
examples are {} or {‘Ecut’: 1.0, “max_nvalleys”: 3}</td>
</tr>
</tbody>
</table>
<p>Returns (None):</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.solve_BTE_iteratively">
<code class="descname">solve_BTE_iteratively</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.solve_BTE_iteratively"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.solve_BTE_iteratively" title="Permalink to this definition">¶</a></dt>
<dd><p>Iteratively solve linearized/low-field Boltzmann Transport Equation
See equation (43) page 20 of the reference [R]</p>
<p>Returns (None): the results are stored in “g*” keys in kgrid and egrid</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.sort_vars_based_on_energy">
<code class="descname">sort_vars_based_on_energy</code><span class="sig-paren">(</span><em>args</em>, <em>ascending=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.sort_vars_based_on_energy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.sort_vars_based_on_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the list of variables specified by args based on their “energy”
values in each band for both “n”- and “p”-type bands and in ascending
order by default.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>args</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – list of arguments in self.kgrid.</li>
<li><strong>ascending</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether to sort in ascending order (default)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns ([int]):</dt>
<dd><dl class="first last docutils">
<dt>after actually modifying the args to be sorted based on energy, it</dt>
<dd>also returns the indexes in the order that results in sorted
energy.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.test_run">
<code class="descname">test_run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.test_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.test_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="amset.core.Amset.to_csv">
<code class="descname">to_csv</code><span class="sig-paren">(</span><em>path=None</em>, <em>dir_name='run_data'</em>, <em>csv_filename='amset_results.csv'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.to_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the calculated transport properties to a csv file. These
properties are overall mobility and those values calculated assuming
only one scattering mechanism is limiting the mobility. Seebeck
coefficient is also reported all at any given combination of carrier
concentration, c, or temperature, T.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – full path to the folder where the .csv file is saved</li>
<li><strong>dir_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – folder where .csv is saved; ignored if path is set</li>
<li><strong>csv_filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the name of the .csv file</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (None):</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.to_file">
<code class="descname">to_file</code><span class="sig-paren">(</span><em>path=None</em>, <em>dir_name='run_data'</em>, <em>fname='amsetrun'</em>, <em>force_write=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.to_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes everything calculated into a json file. Readable by the
Amset.from_file() method for post-processing (e.g. plotting).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the full path to the folder where .json file is saved</li>
<li><strong>dir_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the folder where .json file is saved</li>
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the json file where data is saved; no .json needed!</li>
<li><strong>force_write</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether to overwrite the previous file if it
exists. If set to False, a new file with _n suffix is created
where n is 1, 2, 3, ….</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (None):</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.to_json">
<code class="descname">to_json</code><span class="sig-paren">(</span><em>kgrid=True</em>, <em>trimmed=False</em>, <em>max_ndata=None</em>, <em>n0=0</em>, <em>valleys=True</em>, <em>path=None</em>, <em>dir_name='run_data'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.to_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the kgrid and egird to json files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kgrid</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether to also write kgrid to kgrid.json</li>
<li><strong>trimmed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – if trimmed some properties (dict keys) will be
removed to save space</li>
<li><strong>max_ndata</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the maximum index from the CBM/VBM written to file</li>
<li><strong>n0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the initial list index of a property written to file</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns: egrid.json and (optional) kgrid.json file(s)</p>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.unique_X_ib_ik_symmetrically_equivalent">
<code class="descname">unique_X_ib_ik_symmetrically_equivalent</code><span class="sig-paren">(</span><em>tp</em>, <em>ib</em>, <em>ik</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.unique_X_ib_ik_symmetrically_equivalent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.unique_X_ib_ik_symmetrically_equivalent" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given indexes of a k-point in “n”-tp or “p”-tp grid, it returns a list</dt>
<dd>of unique and symmetricall equivalent k-points.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – options are “n” for conduction bands and “p” for valence</li>
<li><strong>ib</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – band index (0 for the last valence/first conduction band)</li>
<li><strong>ik</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – k-point index in the kgrid</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns ([1x3 numpy.ndarray]):</dt>
<dd><dl class="first last docutils">
<dt>a list of k-points symmetrically equivalent to the original sorted</dt>
<dd>on the cosine of the angle between them and the original point</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.update_cbm_vbm_dos">
<code class="descname">update_cbm_vbm_dos</code><span class="sig-paren">(</span><em>coeff_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.update_cbm_vbm_dos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.update_cbm_vbm_dos" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the energy and mass values of the CBM/VBM (in cbm_vbm var) and
dos limits according to the iterpolation method and the references used</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>coeff_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – path to the boltztrap1 .123 coefficient file;
ignored if interpolation is not boltztrap1</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns (None):</dt>
<dd>updates cbm_vbm and some other class attributes such as
offset_from_vbm which is the energy difference between the DFT
calculations reference energy and the interpolation method.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amset.core.Amset.write_input_files">
<code class="descname">write_input_files</code><span class="sig-paren">(</span><em>path=None</em>, <em>dir_name='run_data'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/amset/core.html#Amset.write_input_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amset.core.Amset.write_input_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes all 3 types of inputs in json files for example to conveniently
track what inputs had been used later or read inputs from files (see
from_files method)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the final path to write the input files</li>
<li><strong>dir_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the name of the folder where the input files are
written; ignored if path is set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns (None):</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-amset">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-amset" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">amset package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-amset.core">amset.core module</a></li>
<li><a class="reference internal" href="#module-amset">Module contents</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/amset.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Amset 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Alireza Faghaninia.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1.
    </div>

  </body>
</html>